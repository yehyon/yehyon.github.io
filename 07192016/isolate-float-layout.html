<!DOCTYPE html>
<html>

<head>
    <title>Isolate Float Layout</title>
    <link rel="stylesheet" type="text/css" href="../resources/initialization/normalize.css">
    <link rel="stylesheet" type="text/css" href="../resources/common.css">
    <link rel="stylesheet" type="text/css" href="../resources/grid-system/grid-fluid-1280-8.css">
    <style>
    .box {
        float: left;
        width: calc( 12.8% * .81 );
        height: calc(27px * 2);
        text-align: center;
        line-height: calc(27px * 2);
        background: #313133;
        color: #fff
    }
    
    .box-float {
        margin-right: calc( 12.8% * .19 );
    }

    [class*="box-isolate"] {
        margin-right: -100%;
    }

    .grid {
        margin-bottom: calc(27px * 1);
    }

    .isolate-order-1 { margin-left: calc(12.8% * 0) }
    .isolate-order-2 { margin-left: calc(12.8% * 1) }
    .isolate-order-3 { margin-left: calc(12.8% * 2) }
    .isolate-order-4 { margin-left: calc(12.8% * 3) }

    .grid *:nth-child(1) {background: #143E7A;}
    .grid *:nth-child(2) {background: #CAEDEB;}
    .grid *:nth-child(3) {background: #FFF8DC;}
    .grid *:nth-child(4) {background: #FFE1E0;}

    body { margin: 0; }
    header, footer { height: 100px; }
    header { background: #ff0; }
    footer { background: #feae09; }
    main {
      background-color: #A5B009;
      display: flex;
      border: 10px solid #111;
      /*height: 400px;*/
    }
    section { height: 500px; order: 2; background: #1179fe; flex-grow: 1; flex-basis: 300px;}
    aside { flex-shrink: 0; height: 200px;}
    .side-A { order: 1; background: #b8b8b8; width: 200px; }
    .side-B { align-self: flex-end; order: 3; background: #652cbc; width: 200px; }
    .side-C { order: 1; flex-wrap:wrap;}

    </style>
</head>

<body>
    <div class="grid-container">
        <div class="grid">
            <div class="box box-float">1</div>
            <div class="box box-float">2</div>
            <div class="box box-float">3</div>
            <div class="box box-float">4</div>
        </div>
        <div class="grid">
            <div class="box box-isolate isolate-order-1">A</div>
            <div class="box box-isolate isolate-order-2">B</div>
            <div class="box box-isolate isolate-order-4">C</div>
            <div class="box box-isolate isolate-order-3">D</div>
        </div>
    </div>

  <header>header</header>
  <main>
    <section>section</section>
    <aside class="side-A">aside A</aside>
    <aside class="side-B">aside B</aside>
    <aside class="side-C">aside C</aside>
  </main>
  <footer>footer</footer>
</body>

</html>
